# راهنمای فنی پروژه

این سند برای توسعه‌دهندگان تهیه شده است تا بتوانند معماری، وابستگی‌ها و شیوه توسعه پروژه را به سرعت درک کنند.

## معماری کلی

- **ساختار پوشه‌ها**: کد اصلی در `src/` قرار دارد و تست‌ها در `tests/` مدیریت می‌شوند.
- **چارچوب مستندسازی**: از MkDocs با قالب Material برای ساخت اسناد استفاده می‌شود.
- **پیکربندی**: تنظیمات اصلی پروژه در `pyproject.toml` و `mkdocs.yml` نگهداری می‌شود.

## شروع به توسعه

1. Poetry را نصب کنید و وابستگی‌ها را با فرمان زیر دریافت کنید:
   ```bash
   poetry install
   ```
2. پیش از اعمال تغییرات، قلاب‌های pre-commit را نصب کنید:
   ```bash
   poetry run pre-commit install
   ```
3. برای اجرای تست‌ها از دستور زیر بهره ببرید:
   ```bash
   poetry run pytest
   ```

## راهنمای اجرای محلی

برای اجرای سرویس محلی، از فایل README و اسکریپت‌های موجود در `src/` پیروی کنید. در صورت نیاز به متغیرهای محیطی، فایل `.env.example` را مطالعه و مقداردهی کنید.

## استانداردهای کدنویسی

- از Black برای فرمت خودکار کد استفاده کنید.
- با isort ایمپورت‌ها را مرتب نگه دارید.
- وضعیت تایپ‌ها را با mypy بررسی کنید.
- در صورت افزودن وابستگی جدید، آن را در `pyproject.toml` تعریف و Lock فایل را به‌روز کنید.

## مسیرهای استقرار

1. ساخت بسته:
   ```bash
   poetry build
   ```
2. انتشار مستندات:
   ```bash
   poetry run mkdocs gh-deploy
   ```
3. انتشار سرویس: طبق خط لوله CI/CD تعریف‌شده در مخزن اصلی عمل کنید.

## نکات پایانی

- هر ویژگی جدید باید با تست‌های مناسب پوشش داده شود.
- از ایجاد Pull Request همراه با توضیح کامل تغییرات اطمینان حاصل کنید.
- در صورت بروز خطا، لاگ‌ها و issues قبلی را بررسی کنید و سپس با تیم هماهنگ شوید.
